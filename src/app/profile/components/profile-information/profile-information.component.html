<div class="profile-information">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Información Personal</mat-card-title>
      <span class="spacer"></span>
      <button *ngIf="!isEditing" mat-icon-button color="primary" (click)="startEditing()">
        <mat-icon>edit</mat-icon>
      </button>
    </mat-card-header>

    <mat-card-content>
      <!-- Vista de información (Modo lectura) -->
      <div *ngIf="!isEditing" class="info-view">
        <div class="info-section">
          <h3>Contacto</h3>
          <div class="info-item">
            <mat-icon>phone</mat-icon>
            <span>{{ information?.phoneNumber || 'No especificado' }}</span>
          </div>
          <div class="info-item">
            <mat-icon>location_on</mat-icon>
            <span>
              {{ information?.address || 'No especificado' }},
              {{ information?.city || '' }} {{ information?.country || '' }}
            </span>
          </div>
        </div>

        <div class="info-section">
          <h3>Profesional</h3>
          <div class="info-item">
            <mat-icon>work</mat-icon>
            <span>{{ information?.jobTitle || 'No especificado' }}</span>
          </div>
          <div class="info-item">
            <mat-icon>business</mat-icon>
            <span>{{ information?.company || 'No especificado' }}</span>
          </div>
          <div class="info-item">
            <mat-icon>school</mat-icon>
            <span>{{ information?.education || 'No especificado' }}</span>
          </div>
        </div>

        <div class="info-section">
          <h3>Redes Sociales</h3>
          <div class="social-links">
            <a *ngIf="information?.socialLinks?.facebook" [href]="information.socialLinks.facebook" target="_blank">
              <mat-icon>facebook</mat-icon>
            </a>
            <a *ngIf="information?.socialLinks?.twitter" [href]="information.socialLinks.twitter" target="_blank">
              <mat-icon>twitter</mat-icon>
            </a>
            <a *ngIf="information?.socialLinks?.linkedin" [href]="information.socialLinks.linkedin" target="_blank">
              <mat-icon>linkedin</mat-icon>
            </a>
            <a *ngIf="information?.socialLinks?.github" [href]="information.socialLinks.github" target="_blank">
              <mat-icon>code</mat-icon>
            </a>
          </div>
        </div>
      </div>

      <!-- Formulario de edición (Modo edición) -->
      <form *ngIf="isEditing" [formGroup]="infoForm" class="info-form">
        <div class="form-section">
          <h3>Contacto</h3>

          <mat-form-field appearance="outline">
            <mat-label>Teléfono</mat-label>
            <input matInput formControlName="phoneNumber">
            <mat-error *ngIf="infoForm.get('phoneNumber').hasError('pattern')">
              Formato de teléfono inválido
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Dirección</mat-label>
            <input matInput formControlName="address">
          </mat-form-field>

          <div class="form-row">
            <mat-form-field appearance="outline">
              <mat-label>Ciudad</mat-label>
              <input matInput formControlName="city">
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>País</mat-label>
              <input matInput formControlName="country">
            </mat-form-field>
          </div>
        </div>

        <div class="form-section">
          <h3>Profesional</h3>

          <mat-form-field appearance="outline">
            <mat-label>Cargo</mat-label>
            <input matInput formControlName="jobTitle">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Empresa</mat-label>
            <input matInput formControlName="company">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Educación</mat-label>
            <input matInput formControlName="education">
          </mat-form-field>
        </div>

        <div class="form-section">
          <h3>Redes Sociales</h3>

          <mat-form-field appearance="outline">
            <mat-label>Facebook</mat-label>
            <input matInput formControlName="facebook">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Twitter</mat-label>
            <input matInput formControlName="twitter">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>LinkedIn</mat-label>
            <input matInput formControlName="linkedin">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>GitHub</mat-label>
            <input matInput formControlName="github">
          </mat-form-field>
        </div>

        <div class="form-actions">
          <button mat-button (click)="cancelEditing()">Cancelar</button>
          <button mat-raised-button color="primary" [disabled]="infoForm.invalid" (click)="saveChanges()">
            Guardar
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
